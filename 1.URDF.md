# URDF â€” Deeper Understanding

A URDF (Unified Robot Description Format) is the foundational representation of a robot in ROS. Understanding it properly ensures your robot behaves correctly in Isaac Sim, Gazebo, and any physics engine.

This section explains every essential URDF component, joint math, inertia correctness, and how simulation tools interpret these values.

ðŸ”§ URDF Anatomy

Every URDF file is made up of a few core elements:

<robot>

The root tag that wraps the entire definition.

````xml
<robot name="my_robot">
		# URDF â€” Deeper Understanding

		A URDF (Unified Robot Description Format) is the foundational representation of a robot in ROS. Correct URDF authoring ensures predictable behavior in Isaac Sim, Gazebo, and other physics engines.

		This document explains essential URDF components, joint conventions, inertia considerations, and how simulation tools interpret these values.

		URDF Anatomy

		Every URDF file is composed of a few core elements.

		<robot>

		The root tag that wraps the entire definition.

		```xml
		<robot name="my_robot">
		    <!-- links, joints, transmissions go here -->
		</robot>
		```

		Links (`<link>`) â€” Physical Body of the Robot

		A link represents a rigid body with:

		- visual geometry (rendering)
		- collision geometry (physics)
		- inertial parameters (mass, inertia tensor, center of mass)

		Example:

		```xml
		<link name="base_link">
		  <visual>
		    <geometry>
		      <mesh filename="meshes/base_link.stl" scale="1 1 1" />
		    </geometry>
		    <origin xyz="0 0 0" rpy="0 0 0"/>
		    <material name="gray" />
		  </visual>

		  <collision>
		    <geometry>
		      <box size="0.5 0.3 0.1" /> <!-- simplified collision geometry -->
		    </geometry>
		  </collision>

		  <inertial>
		    <mass value="4.0" />
		    <origin xyz="0 0 0" />
		    <inertia ixx="0.2" ixy="0" ixz="0" iyy="0.2" iyz="0" izz="0.3" />
		  </inertial>
		</link>
		```

		Joints (`<joint>`) â€” Connecting Links Together

		Joints define the relative motion between two links.

		Structure:

		```xml
		<joint name="joint1" type="revolute">
		  <parent link="base_link" />
		  <child link="link1" />
		  <origin xyz="0 0 0.1" rpy="0 0 0" />
		  <axis xyz="0 0 1" />
		  <limit lower="-1.57" upper="1.57" effort="5" velocity="2"/>
		</joint>
		```

		Joint Types and Semantics

		Understanding joint types is essential for correct articulation behavior in simulators.

		- `revolute` â€” 1 DOF â€” Rotates within limits
		- `continuous` â€” 1 DOF â€” Infinite rotation (wheels, rotating sensors)
		- `prismatic` â€” 1 DOF â€” Linear translation
		- `fixed` â€” 0 DOF â€” Rigid attachment
		- `floating` â€” 6 DOF â€” Free-floating body
		- `planar` â€” 3 DOF â€” Moves within a plane

		Joint Axis Convention

		The `<axis xyz="a b c"/>` defines the rotation or translation direction in the joint frame (not the world frame). For example:

		- `0 0 1` â€” rotation around the Z-axis of the joint frame
		- `1 0 0` â€” rotation around the X-axis of the joint frame

		Incorrect axis definitions commonly cause unexpected articulation behavior in Isaac Sim.

		Mass and Inertia â€” Important Considerations

		Incorrect inertial properties cause unstable or non-physical simulation results, including jitter, oscillation, and objects passing through geometry.

		Physics engines compute motion using mass and rotational inertia. If the inertia tensor is unrealistic (too small, zero, or inconsistent with mass), the simulation will produce incorrect results.

		Recommended workflow:

		1. Export mass and inertia from CAD tools (Fusion 360, SolidWorks, Onshape) when possible.
		2. If CAD is not available, approximate links with primitive shapes (box, cylinder, sphere) and compute inertia analytically.

		See `docs/urdf_deepdive.md` for formulas and the parallel axis theorem.

		Collision versus Visual Geometry

		For efficient and stable simulation:

		- Use detailed meshes for visual representation.
		- Use simplified meshes or primitives for collision geometry.

		This approach reduces computational cost and improves physics stability. Example:

		```xml
		<visual>
		  <geometry>
		    <mesh filename="meshes/arm_highpoly.dae" />
		  </geometry>
		</visual>

		<collision>
		  <geometry>
		    <cylinder radius="0.05" length="0.3" />
		  </geometry>
		</collision>
		```

		Materials and Sensor Tags

		You can specify colors or textures using `<material>`; Gazebo-specific tags and plugin definitions are commonly included for Gazebo but are not interpreted by Isaac Sim. If you intend to run the same URDF in both simulators, keep these tags but do not rely on them for Isaac-specific behavior.

		Example material:

		```xml
		<material name="blue">
		  <color rgba="0 0 1 1"/>
		</material>
		```

		Annotated URDF Example

		```xml
		<robot name="example_bot">

		  <!-- BASE LINK -->
		  <link name="base_link">
		    <visual>
		      <geometry>
		        <box size="0.3 0.2 0.1" />
		      </geometry>
		    </visual>
		    <collision>
		      <geometry>
		        <box size="0.3 0.2 0.1" />
		      </geometry>
		    </collision>
		    <inertial>
		      <mass value="2" />
		      <inertia ixx="0.02" iyy="0.02" izz="0.03" ixy="0" ixz="0" iyz="0"/>
		    </inertial>
		  </link>

		  <!-- WHEEL -->
		  <link name="wheel_link" />

		  <!-- REVOLUTE JOINT -->
		  <joint name="wheel_joint" type="continuous">
		    <parent link="base_link" />
		    <child link="wheel_link" />
		    <origin xyz="0 0 -0.05" />
		    <axis xyz="0 0 1" />
		  </joint>

		</robot>
		```

		Notes:

		- Use simplified collision geometry for simulation performance.
		- Ensure mass and inertia are consistent with geometry.
		- Define joint axes in the joint frame and verify orientation in the simulator.

		This content is provided in Markdown format for inclusion in the project documentation.
</robot>

````
